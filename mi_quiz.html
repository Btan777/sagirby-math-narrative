<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover Your Multiple Intelligences | Polymathy Academy Quiz</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="quiz-container">
            <div class="quiz-header">
                <h1>Multiple Intelligence Quiz</h1>
                <p>Discover your cognitive strengths by taking this quick quiz!</p>
            </div>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">Question 1 of 3</div>
            </div>
            <div class="quiz-content" id="quiz-content">
                <!-- Questions will be injected here -->
            </div>
            <div class="navigation">
                <button class="btn btn-primary" id="prev-btn">Previous</button>
                <button class="btn btn-primary" id="next-btn">Next</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "Which activity do you enjoy the most?",
                options: [
                    { text: "Solving puzzles", type: "Logical-Mathematical" },
                    { text: "Painting or drawing", type: "Spatial" },
                    { text: "Playing a musical instrument", type: "Musical" }
                ]
            },
            {
                question: "What do people often praise you for?",
                options: [
                    { text: "Your empathy", type: "Interpersonal" },
                    { text: "Your self-reflection", type: "Intrapersonal" },
                    { text: "Your athletic skills", type: "Bodily-Kinesthetic" }
                ]
            },
            {
                question: "Which of these is your favorite pastime?",
                options: [
                    { text: "Reading books", type: "Linguistic" },
                    { text: "Exploring nature", type: "Naturalistic" },
                    { text: "Solving riddles", type: "Logical-Mathematical" }
                ]
            }
        ];

        let currentQuestion = 0;
        const selections = [];

        const quizContent = document.getElementById('quiz-content');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');

        function loadQuestion() {
            const q = questions[currentQuestion];
            quizContent.innerHTML = `<div class="question-container active">
                <div class="question">
                    <h2>${q.question}</h2>
                </div>
                <div class="options">
                    ${q.options.map((opt, index) => `
                        <div class="option" onclick="selectOption(${index})">
                            ${opt.text}
                        </div>
                    `).join('')}
                </div>
            </div>`;

            progressFill.style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
            progressText.textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
        }

        function selectOption(index) {
            selections[currentQuestion] = index;
            const options = document.querySelectorAll('.option');
            options.forEach((opt, idx) => {
                opt.classList.toggle('selected', idx === index);
            });
        }

        document.getElementById('next-btn').addEventListener('click', () => {
            if (typeof selections[currentQuestion] === 'undefined') {
                alert('Please select an option before proceeding.');
                return;
            }
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showResults();
            }
        });

        document.getElementById('prev-btn').addEventListener('click', () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        });

        function showResults() {
            const intelligenceCounts = {};
            selections.forEach((selection, idx) => {
                const type = questions[idx].options[selection].type;
                intelligenceCounts[type] = (intelligenceCounts[type] || 0) + 1;
            });

            const topType = Object.keys(intelligenceCounts).reduce((a, b) => intelligenceCounts[a] > intelligenceCounts[b] ? a : b);

            quizContent.innerHTML = `<div class="question-container active">
                <div class="question">
                    <h2>Your Dominant Intelligence:</h2>
                    <p><strong>${topType}</strong></p>
                </div>
            </div>`;

            progressFill.style.width = '100%';
            progressText.textContent = 'Quiz Completed';
        }

        loadQuestion();
    </script>
</body>
</html>
